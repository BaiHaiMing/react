<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="./js/react.development.js"></script>
    <script src="./js/react-dom.development.js"></script>
    <script src="./js/babel.js"></script>
</head>

<body>
    <div id="box"></div>
    <script type="text/babel">
        // 受控组件与非受控组件
        // 表单元素他的值来自于state，那么这个组件就是受控组件，否则就是非受控组件
        // 受控组件

        /*
            在大多数情况下，我们推荐使用 受控组件 来处理表单数据。
            在一个受控组件中，表单数据是由 React 组件来管理的。
            另一种代替方案是使用非受控组件，这时表单数据将交由 DOM 节点来处理。

            由于在表单元素上设置了 value 属性，因此显示的值将始终未 this.state.value,
            这使得 React 的 state 成为了唯一数据源，由于 handlechange在每次按键时都会执行并更新 React的state，
            因此显示的值将随着用户输入而更新。
        */

        /* class App extends React.Component{
            constructor(){
                super()
                this.state = {
                    value:"111"
                }
            }
            handleChange = (e)=>{
               this.setState({
                   value:e.target.value
               })
            }
            render(){
                return (
                    <div>
                        <input type="text" value={this.state.value} onChange={this.handleChange}/>
                        <p>{this.state.value}</p>
                    </div>
                )
            }
        }
        ReactDOM.render(<App/>,document.getElementById("box")) */

        // 非受控组件 这时候数据有DOM自身进行维护
        // 要编写一个非受控组件，而不是为每个状态更新编写对应的数据处理函数
        // 可以使用ref来从DOM节点中获取表单数据。
        class App extends React.Component {
            handleSubmit = (e) => {
                console.log(this.input.value);
                e.preventDefault()

            }

            render() {
                return (
                    <div>
                        <input type="text" ref={el => this.input = el} />
                        <input type="submit" />
                    </div>
                )
            }
        }

        ReactDOM.render(<App/>,document.getElementById("box"))
    </script>
</body>

</html>